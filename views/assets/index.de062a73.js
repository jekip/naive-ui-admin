var z=Object.defineProperty,J=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var T=(e,u,o)=>u in e?z(e,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[u]=o,B=(e,u)=>{for(var o in u||(u={}))K.call(u,o)&&T(e,o,u[o]);if(x)for(var o of x(u))Z.call(u,o)&&T(e,o,u[o]);return e},P=(e,u)=>J(e,Q(u));var w=(e,u,o)=>new Promise((p,r)=>{var f=s=>{try{n(o.next(s))}catch(m){r(m)}},t=s=>{try{n(o.throw(s))}catch(m){r(m)}},n=s=>s.done?p(s.value):Promise.resolve(s.value).then(f,t);n((o=o.apply(e,u)).next())});import{b3 as I,d as L,bQ as ee,e as y,j as R,u as M,o as N,a0 as ue,bF as oe,Y as c,X as a,bj as b,t as O,ab as $,a as k,bA as te,bJ as U,ai as V,aw as j,bn as ne,bs as se,a5 as le,i as ae,h as ce,c as ie,aA as re,aI as de,aF as pe,a4 as fe}from"./vendor.21d60ab8.js";import{k as me,m as Fe,_ as _e}from"./index.8d035c2e.js";import{B as X}from"./BasicForm.8a1244d5.js";import{a as ge}from"./index.esm.82824a3c.js";import{u as Ce}from"./useForm.2c122be2.js";import"./propTypes.13e00d90.js";const Be=P(B({},I.props),{subBtuText:{type:String,default:"\u786E\u8BA4"},showIcon:{type:Boolean,default:!1},width:{type:Number,default:446},title:{type:String,default:""},maskClosable:{type:Boolean,default:!1},preset:{type:String,default:"dialog"}}),v=function(e,u){var o;return e.currentStyle?e.currentStyle[u]:(o=document.defaultView)==null?void 0:o.getComputedStyle(e,null)[u]},i={left:0,top:0,currentX:0,currentY:0,flag:!1},be=function(e,u,o){const p=document.body.clientWidth,r=document.documentElement.clientHeight,f=u.offsetWidth,t=u.offsetHeight,n=u.offsetLeft,s=u.offsetTop,m=p-n-f,_=r-s-t;v(u,"left")!=="auto"&&(i.left=v(u,"left")),v(u,"top")!=="auto"&&(i.top=v(u,"top")),e.onmousedown=function(d){i.flag=!0,d||(d=window.event,e.onselectstart=function(){return!1});const F=d;i.currentX=F.clientX,i.currentY=F.clientY},document.onmouseup=function(){i.flag=!1,v(u,"left")!=="auto"&&(i.left=v(u,"left")),v(u,"top")!=="auto"&&(i.top=v(u,"top"))},document.onmousemove=function(d){const F=d||window.event;if(i.flag){const g=F.clientX,E=F.clientY,C=g-i.currentX,h=E-i.currentY;let D=parseInt(i.left)+C,l=parseInt(i.top)+h;return-D>n?D=-n:D>m&&(D=m),-l>s?l=-s:l>_&&(l=_),u.style.left=D+"px",u.style.top=l+"px",typeof o=="function"&&o((parseInt(i.left)||0)+C,(parseInt(i.top)||0)+h),d.preventDefault&&d.preventDefault(),!1}}};const Ee={class:"w-full cursor-move",id:"basic-modal-bar"},he=b("\u53D6\u6D88"),Y=L({props:B({},Be),emits:["on-close","on-ok","register"],setup(e,{emit:u}){const o=e,p=ee(),r=y(null),f=y(!1),t=y(!1),n=R(()=>B(B({},o),M(r))),s=R(()=>{const{subBtuText:l}=r.value;return l||o.subBtuText});function m(l){return w(this,null,function*(){r.value=me(M(r)||{},l)})}const _=R(()=>B(B(B({},p),M(n)),M(r)));function d(l){t.value=l}function F(){f.value=!0,ne(()=>{const l=document.getElementById("basic-modal"),A=document.getElementById("basic-modal-bar");be(A,l)})}function g(){f.value=!1,t.value=!1,u("on-close")}function E(){f.value=!1,u("on-close")}function C(){t.value=!0,console.log(t.value),u("on-ok")}const h={setProps:m,openModal:F,closeModal:g,setSubLoading:d};return U()&&u("register",h),(l,A)=>{const S=V,H=j,G=I;return N(),ue(G,te({id:"basic-modal"},M(_),{show:f.value,"onUpdate:show":A[0]||(A[0]=q=>f.value=q),onClose:E}),oe({header:c(()=>[k("div",Ee,O(M(_).title),1)]),default:c(()=>[$(l.$slots,"default")]),_:2},[l.$slots.action?{name:"action",fn:c(()=>[$(l.$slots,"action")])}:{name:"action",fn:c(()=>[a(H,null,{default:c(()=>[a(S,{onClick:g},{default:c(()=>[he]),_:1}),a(S,{type:"primary",loading:t.value,onClick:C},{default:c(()=>[b(O(M(s)),1)]),_:1},8,["loading"])]),_:1})])}]),1040,["show"])}}});function W(e){const u=y(null),o=U(),p=()=>{const t=M(u.value);return t||console.error("useModal instance is undefined!"),t};return[t=>{ge(()=>{u.value=null}),u.value=t,o==null||o.emit("register",t),se(()=>e,()=>{e&&t.setProps(Fe(e))},{immediate:!0,deep:!0})},{setProps:t=>{var n;(n=p())==null||n.setProps(t)},openModal:()=>{var t;(t=p())==null||t.openModal()},closeModal:()=>{var t;(t=p())==null||t.closeModal()},setSubLoading:t=>{var n;(n=p())==null||n.setSubLoading(t)}}]}const De=[{field:"name",component:"NInput",label:"\u59D3\u540D",labelMessage:"\u8FD9\u662F\u4E00\u4E2A\u63D0\u793A",giProps:{span:1},componentProps:{placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",onInput:e=>{console.log(e)}},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u59D3\u540D",trigger:["blur"]}]},{field:"mobile",component:"NInputNumber",label:"\u624B\u673A",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801",showButton:!1,onInput:e=>{console.log(e)}}},{field:"type",component:"NSelect",label:"\u7C7B\u578B",giProps:{},componentProps:{placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B",options:[{label:"\u8212\u9002\u6027",value:1},{label:"\u7ECF\u6D4E\u6027",value:2}],onUpdateValue:e=>{console.log(e)}}},{field:"makeDate",component:"NDatePicker",label:"\u9884\u7EA6\u65F6\u95F4",giProps:{},defaultValue:118313526e4,componentProps:{type:"date",clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"makeTime",component:"NTimePicker",label:"\u505C\u7559\u65F6\u95F4",giProps:{},componentProps:{clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"makeProject",component:"NCheckbox",label:"\u9884\u7EA6\u9879\u76EE",giProps:{},componentProps:{placeholder:"\u8BF7\u9009\u62E9\u9884\u7EA6\u9879\u76EE",options:[{label:"\u79CD\u7259",value:1},{label:"\u8865\u7259",value:2},{label:"\u6839\u7BA1",value:3}],onUpdateChecked:e=>{console.log(e)}}},{field:"makeSource",component:"NRadioGroup",label:"\u6765\u6E90",giProps:{},componentProps:{options:[{label:"\u7F51\u4E0A",value:1},{label:"\u95E8\u5E97",value:2}],onUpdateChecked:e=>{console.log(e)}}},{field:"status",label:"\u72B6\u6001",giProps:{},slot:"statusSlot"}],Me=L({components:{basicModal:Y,BasicForm:X},setup(){const e=y(null),u=le(),[o,{openModal:p,closeModal:r,setSubLoading:f}]=W({title:"\u65B0\u589E\u9884\u7EA6"}),[t,{openModal:n,closeModal:s,setSubLoading:m}]=W({title:"\u786E\u8BA4\u5BF9\u8BDD\u6846",showIcon:!0,type:"warning",closable:!1,maskClosable:!0}),[_,{submit:d}]=Ce({gridProps:{cols:1},collapsedRows:3,labelWidth:120,layout:"horizontal",submitButtonText:"\u63D0\u4EA4\u9884\u7EA6",showActionButtonGroup:!1,schemas:De}),F=ae({formValue:{name:"\u5C0F\u9A6C\u54E5"}});function g(){return w(this,null,function*(){(yield d())?(r(),u.success("\u63D0\u4EA4\u6210\u529F")):(u.error("\u9A8C\u8BC1\u5931\u8D25\uFF0C\u8BF7\u586B\u5199\u5B8C\u6574\u4FE1\u606F"),f(!1))})}function E(){s(),m()}function C(){n()}function h(){p()}function D(l){console.log(l)}return P(B({},ce(F)),{modalRef:e,register:_,modalRegister:o,lightModalRegister:t,handleReset:D,showModal:h,okModal:g,lightOkModal:E,showLightModal:C})}}),ve={class:"n-layout-page-header"},ye=b(" \u6A21\u6001\u6846\uFF0C\u7528\u4E8E\u5411\u7528\u6237\u6536\u96C6\u6216\u5C55\u793A\u4FE1\u606F\uFF0CModal \u91C7\u7528 Dialog \u9884\u8BBE\uFF0C\u6269\u5C55\u62D6\u62FD\u6548\u679C "),Ae=k("br",null,null,-1),ke=b(" \u4EE5\u4E0B\u662F useModal \u65B9\u5F0F\uFF0Cref\u65B9\u5F0F\uFF0C\u4E5F\u652F\u6301\uFF0C\u4F7F\u7528\u65B9\u5F0F\u548C\u5176\u4ED6\u7EC4\u4EF6\u4E00\u81F4\uFF0C\u5982\uFF1AmodalRef.value.closeModal() "),Pe=b(" \u4F7F\u7528 useModal \u8FDB\u884C\u5F39\u7A97\u5C55\u793A\u548C\u64CD\u4F5C\uFF0C\u5E76\u6F14\u793A\u4E86\u5728Modal\u5185\u548CForm\u7EC4\u4EF6\uFF0C\u7EC4\u5408\u4F7F\u7528\u65B9\u6CD5 "),we=b("\u6253\u5F00Modal\u5D4C\u5957Form\u4F8B\u5B50"),Re=b(" \u4F7F\u7528 useModal \u8FDB\u884C\u5F39\u7A97\u5C55\u793A\u548C\u64CD\u4F5C\uFF0C\u81EA\u5B9A\u4E49\u914D\u7F6E\uFF0C\u5B9E\u73B0\u8F7B\u91CF\u7EA7\u6548\u679C\uFF0C\u66F4\u591A\u914D\u7F6E\uFF0C\u8BF7\u53C2\u8003\u6587\u6863 "),Se=b("\u8F7B\u91CF\u7EA7\u786E\u8BA4"),xe=b(" \u7EC4\u4EF6\u66B4\u9732\u4E86\uFF0CsetProps \u65B9\u6CD5\uFF0C\u7528\u4E8E\u4FEE\u6539\u7EC4\u4EF6\u5185\u90E8 Props\uFF0C\u6BD4\u5982\u6807\u9898\uFF0C\u7B49\uFF0C\u5177\u4F53\u53C2\u8003UI\u6846\u67B6\u6587\u6863\uFF0CDialogReactive Properties "),Te=k("p",{class:"text-gray-500",style:{"padding-left":"35px"}},"\u4E00\u4E9B\u5BF9\u8BDD\u6846\u5185\u5BB9",-1);function Ie(e,u,o,p,r,f){const t=re,n=de,s=pe,m=V,_=j,d=fe,F=X,g=Y;return N(),ie("div",null,[k("div",ve,[a(t,{bordered:!1,title:"\u6A21\u6001\u6846"},{default:c(()=>[ye,Ae,ke]),_:1})]),a(t,{bordered:!1,class:"proCard mt-4"},{default:c(()=>[a(n,{title:"Modal\u5D4C\u5957Form",type:"info"},{default:c(()=>[Pe]),_:1}),a(s),a(_,null,{default:c(()=>[a(m,{type:"primary",onClick:e.showModal},{default:c(()=>[we]),_:1},8,["onClick"])]),_:1}),a(s),a(n,{title:"\u4E2A\u6027\u5316\u8F7B\u91CF\u7EA7",type:"info"},{default:c(()=>[Re]),_:1}),a(s),a(_,null,{default:c(()=>[a(m,{type:"primary",onClick:e.showLightModal},{default:c(()=>[Se]),_:1},8,["onClick"])]),_:1}),a(s),a(n,{title:"\u63D0\u793A",type:"info"},{default:c(()=>[xe]),_:1})]),_:1}),a(g,{onRegister:e.modalRegister,ref:"modalRef",class:"basicModal",onOnOk:e.okModal},{default:c(()=>[a(F,{onRegister:e.register,onReset:e.handleReset,class:"basicForm"},{statusSlot:c(({model:E,field:C})=>[a(d,{value:E[C],"onUpdate:value":h=>E[C]=h},null,8,["value","onUpdate:value"])]),_:1},8,["onRegister","onReset"])]),_:1},8,["onRegister","onOnOk"]),a(g,{onRegister:e.lightModalRegister,class:"basicModalLight",ref:"modalRef",onOnOk:e.lightOkModal},{default:c(()=>[Te]),_:1},8,["onRegister","onOnOk"])])}var Xe=_e(Me,[["render",Ie]]);export{Xe as default};
